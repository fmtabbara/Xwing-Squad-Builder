(this["webpackJsonpx-wing-miniatures"]=this["webpackJsonpx-wing-miniatures"]||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n,i,r,l,c,o,s=a(0),u=a.n(s),m=a(9),d=a.n(m),p=a(39),f=(a(91),a(10)),E=a(165),v=a(11),g=a(81),h=a(148),b={palette:{type:"light"},typography:{fontFamily:"'Kanit', consolas"}},y={palette:{type:"dark"},typography:{fontFamily:"'Kanit', consolas"}},j=Object(s.createContext)({}),O=function(e){var t=e.children,a=Object(s.useCallback)((function(e){return Object(g.a)(e)}),[]),n=Object(s.useState)(a(y)),i=Object(v.a)(n,2),r=i[0],l=i[1];return u.a.createElement(j.Provider,{value:{changeTheme:function(){"dark"===r.palette.type?l(a(b)):l(a(y))},currentTheme:r.palette.type}},u.a.createElement(h.a,{theme:r},t))},x=a(149),w=a(121),C=a(150),S=a(151),k=a(75),R=a.n(k),L=a(76),W=a.n(L),A=a(74),P=a.n(A),T=a(26),N=a(57),q={width:125},F={width:"100%"},B=Object(x.a)({textStyle:{textAlign:"right",marginTop:-10,textTransform:"uppercase",fontSize:9}}),I=function(e){var t=e.currentTheme,a=B(),n=Object(N.a)();return u.a.createElement("div",{style:q},u.a.createElement("img",{src:P.a,alt:"main-logo",style:F}),u.a.createElement(T.a,{className:a.textStyle,style:{color:"light"===t?n.palette.grey[900]:"white"}},"Second Edition"))},U=Object(x.a)((function(e){return{root:{height:"100vh",maxHeight:"100vh",overflow:"hidden",display:"grid",gridTemplateAreas:'\n      "nav"\n      "content"\n    ',gridTemplateRows:"".concat(75,"px auto")},nav:{gridArea:"nav"},content:{gridArea:"content",height:"calc(100vh - ".concat(75,"px)"),overflow:"hidden",padding:e.spacing(2)}}})),z=function(e){var t=e.children,a=Object(s.useContext)(j),n=a.changeTheme,i=a.currentTheme,r=U();return u.a.createElement(w.a,{square:!0},u.a.createElement("div",{className:r.root},u.a.createElement("div",{className:r.nav},u.a.createElement(C.a,{container:!0,justify:"space-between",alignItems:"center",style:{padding:16}},u.a.createElement(C.a,{item:!0},u.a.createElement(I,{currentTheme:i})),u.a.createElement(C.a,{item:!0},u.a.createElement(S.a,{onClick:n},"dark"===i?u.a.createElement(R.a,null):u.a.createElement(W.a,null))))),u.a.createElement("div",{className:r.content},t)))},M=a(152),K=function(e){return e.json()},G=function(e,t){var a=Object(s.useState)(),n=Object(v.a)(a,2),i=n[0],r=n[1],l=Object(s.useState)(!1),c=Object(v.a)(l,2),o=c[0],u=(c[1],Object(s.useState)()),m=Object(v.a)(u,2),d=m[0];m[1];return Object(s.useEffect)((function(){fetch(e,{headers:{Accept:"application/json"}}).then(K).then((function(e){r(e)}))}),[e]),{data:i,isLoading:o,error:d}},J=a(35),X=a(82),D=Object(s.createContext)({}),H=function(e){var t=e.children,a=Object(s.useState)(),n=Object(v.a)(a,2),i=n[0],r=n[1],l=Object(s.useState)(),c=Object(v.a)(l,2),o=c[0],m=c[1],d=Object(s.useState)([]),p=Object(v.a)(d,2),f=p[0],E=p[1],g=Object(s.useState)(),h=Object(v.a)(g,2),b=h[0],y=h[1],j=G("manifest.json"),O=j.data,x=j.isLoading,w=function(){return m(void 0)};return u.a.createElement(D.Provider,{value:{faction:i,ship:o,squad:f,manifestUrls:O,manifestUrlsLoading:x,setFaction:r,showPilotsList:function(e){return m(e)},closePilotsList:w,addSquadPilot:function(e,t){E((function(a){return[].concat(Object(X.a)(a),[Object(J.a)(Object(J.a)({},e),{},{ship:t})])})),w()},removeSquadPilot:function(e){return E((function(t){return t.filter((function(t){return t.name!==e}))}))},resetSquad:function(){return E([])},upgrade:b,setUpgrade:y}},t)};!function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(n||(n={})),function(e){e.White="White",e.Red="Red"}(i||(i={})),function(e){e.Focus="Focus",e.Reinforce="Reinforce",e.Lock="Lock",e["Barrel Roll"]="Barrel Roll",e.Evade="Evade",e.Cloak="Cloak",e.Coordinate="Coordinate",e.Calculate="Calculate",e.Jam="Jam",e.Reload="Reload",e.Slam="Slam",e["Rotate Arc"]="Rotate Arc"}(r||(r={})),function(e){e.attack="attack",e.agility="agility",e.hull="hull",e.shields="shields"}(l||(l={})),function(e){e.rebelalliance="rebelalliance",e.galacticempire="galacticempire",e.scumandvillainy="scumandvillainy",e.resistance="resistance",e.firstorder="firstorder",e.galacticrepublic="galacticrepublic",e.separatistalliance="separatistalliance"}(c||(c={})),function(e){e["Rebel Alliance"]="Rebel Alliance",e["Galactic Empire"]="Galactic Empire",e["Scum and Villainy"]="Scum and Villainy",e.Resistance="Resistance",e["First Order"]="First Order",e["Galactic Republic"]="Galactic Republic",e["Separatist Alliance"]="Separatist Alliance"}(o||(o={}));var V=function(e){var t=e.children;return u.a.createElement("div",{style:{display:"flex",alignItems:"center"}},t)},Y=[c.scumandvillainy,c.galacticempire,c.galacticrepublic],Z=function(e){var t=e.icon,a=e.xws,n=e.small,i=Y.includes(a);return u.a.createElement("img",{src:t,alt:"faction-icon",style:{width:n?25:35,background:i?"black":"#ddd",marginRight:8,padding:4,borderRadius:30}})},$=function(){var e=G("data/factions/factions.json"),t=e.data,a=void 0===t?[]:t,n=e.isLoading,i=Object(f.g)(),r=Object(f.h)(),l=Object(s.useContext)(D).setFaction,c=function(e){l(e),i.push("".concat(r.search,"/squad-build"))};return u.a.createElement(z,null,u.a.createElement(C.a,{container:!0,direction:"column",alignItems:"center",wrap:"nowrap",spacing:2,style:{height:"100%",overflow:"auto"}},u.a.createElement(C.a,{item:!0},u.a.createElement(T.a,{variant:"h4",style:{textTransform:"uppercase",margin:36}},"Faction Select")),!n&&a.map((function(e,t){return u.a.createElement(C.a,{item:!0,key:t},u.a.createElement(_,{faction:e,onSelect:c}))}))))},_=function(e){var t=e.faction,a=e.onSelect;return u.a.createElement(M.a,{size:"small",variant:"text",startIcon:u.a.createElement(Z,{icon:t.icon,xws:t.xws,small:!0}),onClick:function(){return a(t)},style:{padding:16}},u.a.createElement(T.a,{variant:"h6",style:{fontWeight:700}},t.name))},Q=a(160),ee=a(166),te=a(161),ae=a(162),ne=a(163),ie=a(122),re=a(156),le=a(157),ce=a(158),oe=(a(97),function(e){var t=e.type,a=e.icon,n=e.size,i=e.color,r=e.style,l=void 0===r?{}:r,c="md"===n?"2.5em":"lg"===n?"3em":"1.25em";return u.a.createElement("i",{style:Object(J.a)(Object(J.a)({},l),{},{fontSize:c,color:i}),className:"xwing-miniatures-".concat(t," xwing-miniatures-").concat(t,"-").concat(a.split(" ").join("").toLowerCase())})}),se=a(77),ue=a.n(se),me=function(e){return e&&ue()(e,/\[(.*?)\]/,(function(e,t){return u.a.createElement(oe,{type:"font",icon:"".concat(e),key:t})}))},de=a(25),pe=a(153),fe=a(169),Ee=a(154),ve=a(155),ge=function(e){var t,a=e.stats,n=Object(N.a)(),i=(t={},Object(de.a)(t,l.agility,n.palette.success.light),Object(de.a)(t,l.attack,n.palette.error.main),Object(de.a)(t,l.hull,"#d4d465"),Object(de.a)(t,l.shields,n.palette.info.main),t);return u.a.createElement(pe.a,{dense:!0,disablePadding:!0,style:{display:"flex"}},a.map((function(e,t){return u.a.createElement(fe.a,{style:{padding:0,margin:n.spacing(0,.5)},key:t},u.a.createElement(Ee.a,{style:{margin:n.spacing(0,.5),minWidth:0}},u.a.createElement(oe,{type:"font",icon:"".concat(e.arc?e.arc:e.type),color:i[e.type]})),u.a.createElement(ve.a,{style:{color:i[e.type]}},e.value))})))},he={F:"straight",B:"bankleft",N:"bankright",T:"turnleft",Y:"turnright",K:"kturn",L:"sloopleft",P:"sloopright",E:"trollleft",R:"trollright",S:"reversestraight",A:"reversebankleft",D:"reversebankright",O:"stop"},be=function(e){var t=e.dial,a=Object(N.a)(),n={};t.forEach((function(e){return n[e[0]]?n[e[0]].push("".concat(e[1]).concat(e[2])):n[e[0]]=["".concat(e[1]).concat(e[2])]}));var i={B:a.palette.info.light,R:a.palette.error.main,W:"#fff"};return u.a.createElement(u.a.Fragment,null,Object.keys(n).map((function(e,t){return u.a.createElement("div",{style:{display:"flex",width:275},key:t},u.a.createElement(T.a,null,e),u.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",flexBasis:"100%"}},n[e].map((function(e,t){return u.a.createElement(oe,{key:t,type:"font",icon:he[e[0]],color:i[e[1]]})}))))})))},ye=Object(x.a)((function(e){return{root:{"&:hover":{cursor:"pointer"}},actions:{margin:e.spacing(0,.5)}}})),je=function(e){var t,a,n=e.ship,i=ye(),r=Object(s.useContext)(D).showPilotsList;return u.a.createElement(re.a,{variant:"outlined",className:i.root,onClick:function(){r(n)}},u.a.createElement(le.a,{title:n.name,titleTypographyProps:{variant:"h6",style:{fontWeight:700,textTransform:"uppercase"}},action:u.a.createElement(ge,{stats:n.stats})}),u.a.createElement(ce.a,null,u.a.createElement("div",null,u.a.createElement(oe,{type:"ship",icon:n.xws,size:"lg"})),u.a.createElement("div",null,u.a.createElement(be,{dial:n.dial})),u.a.createElement("div",null,u.a.createElement(T.a,{variant:"subtitle1"},null===(t=n.pilots[0].shipAbility)||void 0===t?void 0:t.name),n.pilots[0].shipAbility&&u.a.createElement(T.a,{variant:"caption"},me(null===(a=n.pilots[0].shipAbility)||void 0===a?void 0:a.text))),u.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",overflowX:"auto"}},n.actions.map((function(e,t){return u.a.createElement("div",{className:i.actions,key:t},u.a.createElement(oe,{type:"font",icon:e.type}))})))))},Oe=a(159),xe=function(){return Object(Oe.a)("(max-width:770px)")},we=u.a.forwardRef((function(e,t){return u.a.createElement(Q.a,Object.assign({direction:"down",ref:t},e))})),Ce=Object(ie.a)((function(e){return{title:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(3),fontWeight:900,textTransform:"uppercase"}}})),Se=function(e){var t=e.open,a=e.onClose,n=Ce(),i=xe(),r=Object(s.useState)([]),l=Object(v.a)(r,2),c=l[0],o=l[1],m=Object(s.useState)(!0),d=Object(v.a)(m,2),p=(d[0],d[1]),f=Object(s.useContext)(D),E=f.manifestUrls,g=f.faction,h=(null===E||void 0===E?void 0:E.pilots.find((function(e){return e.faction===(null===g||void 0===g?void 0:g.xws)})))||[];return Object(s.useEffect)((function(){var e=h.ships.map((function(e){return fetch(e,{headers:{Accept:"application/json"}})}));Promise.all(e).then((function(e){var t=e.map((function(e){return e.json().then((function(e){return e}))}));Promise.all(t).then((function(e){o(e),p(!1)}))}))}),[h]),u.a.createElement(ee.a,{open:t,onClose:a,TransitionComponent:we,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"lg",fullWidth:!0,fullScreen:i},u.a.createElement(te.a,{className:n.title},"Select Ship"),u.a.createElement(ae.a,{dividers:!0},u.a.createElement(C.a,{container:!0,spacing:2,direction:"column"},c.map((function(e,t){return u.a.createElement(C.a,{item:!0,xs:12,key:t},u.a.createElement(je,{ship:e}))})))),u.a.createElement(ne.a,null,u.a.createElement(M.a,{variant:"text",onClick:a},"CLOSE")))},ke=a(80),Re=a.n(ke),Le=a(164),We=a(167),Ae=a(78),Pe=a.n(Ae),Te=function(e){var t=e.text,a=e.onClose,n=e.onUpdate,i=Object(s.useState)(t),r=Object(v.a)(i,2),l=r[0],c=r[1];return u.a.createElement(Le.a,{onClickAway:function(){return a(t)}},u.a.createElement(We.a,{fullWidth:!0,autoFocus:!0,value:l,onChange:function(e){var t=e.target;c(t.value)},onKeyDown:function(e){var i=e.key;"enter"===i.toLowerCase()&&n(l),"escape"===i.toLowerCase()&&a(t)},endAdornment:u.a.createElement(S.a,{color:"primary",onClick:function(){return n(l)}},u.a.createElement(Pe.a,null))}))},Ne=a(3),qe=a(79),Fe=a.n(qe),Be=function(e){var t=e.name;e.cost;return u.a.createElement("div",null,u.a.createElement("div",null,t))},Ie=function(e){var t=e.upgrades,a=Object(s.useContext)(D).setUpgrade;return u.a.createElement(u.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,t){return u.a.createElement("div",{onClick:function(){return a(e)},key:t},u.a.createElement(oe,{type:"font",icon:e.split(" ").join("").toLowerCase(),size:"md"}))})))},Ue=u.a.forwardRef((function(e,t){return u.a.createElement(Q.a,Object.assign({direction:"down",ref:t},e))})),ze=function(e){var t=e.open,a=e.upgrade,n=Object(s.useContext)(D).setUpgrade,i=G("data/upgrades/".concat(a.toLowerCase(),".json")).data,r=xe();return u.a.createElement(ee.a,{open:t,onClose:function(){return n(void 0)},TransitionComponent:Ue,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"lg",fullWidth:!0,fullScreen:r},u.a.createElement(te.a,null,a),u.a.createElement(ae.a,{dividers:!0},u.a.createElement(pe.a,null,null===i||void 0===i?void 0:i.map((function(e,t){return u.a.createElement(fe.a,{button:!0,onClick:function(){return console.log(e)},key:t},u.a.createElement(Be,{name:e.name,cost:e.cost}))})))),u.a.createElement(ne.a,null,u.a.createElement(M.a,{variant:"text",onClick:function(){return n(void 0)}},"CLOSE")))},Me=Object(x.a)((function(e){return{root:{"&:hover":{cursor:"pointer"}},headerStyle:{alignItems:"flex-start"},initiativeStyle:{color:"orange",fontWeight:900},costStyle:{fontWeight:900,marginLeft:e.spacing(1)}}})),Ke=function(e){var t,a,n=e.pilot,i=e.onAddPilot,r=e.onRemovePilot,l=Me();return u.a.createElement(re.a,{variant:"outlined",onClick:function(){return null===i||void 0===i?void 0:i(n)},className:Object(Ne.a)(Object(de.a)({},l.root,i))},u.a.createElement(le.a,{title:u.a.createElement(u.a.Fragment,null,n.name,n.cost&&u.a.createElement(T.a,{color:"primary",variant:"body1",component:"span",className:l.costStyle},n.cost)),className:l.headerStyle,avatar:u.a.createElement(T.a,{variant:"h6",className:l.initiativeStyle},n.initiative),titleTypographyProps:{variant:"h6",style:{fontWeight:700,textTransform:"uppercase"}},subheader:n.caption,action:r&&u.a.createElement(S.a,{onClick:function(){return r(n.name)}},u.a.createElement(Fe.a,null))}),u.a.createElement(ce.a,null,n.ship&&u.a.createElement(oe,{type:"ship",icon:n.ship.xws}),n.ship&&u.a.createElement(be,{dial:n.ship.dial}),u.a.createElement("div",null,u.a.createElement(T.a,{variant:"subtitle1"},null===(t=n.shipAbility)||void 0===t?void 0:t.name),u.a.createElement(T.a,{variant:"caption"},me(null===(a=n.shipAbility)||void 0===a?void 0:a.text))),u.a.createElement("div",null,u.a.createElement(T.a,{variant:"caption"},me(n.ability))),u.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",overflowX:"auto"}},u.a.createElement(Ie,{upgrades:n.slots}))))},Ge=function(e){var t=e.squad,a=Object(s.useContext)(D).removeSquadPilot;return u.a.createElement(C.a,{container:!0,spacing:2},t.map((function(e,t){return u.a.createElement(C.a,{item:!0,sm:12,key:t},u.a.createElement(Ke,{pilot:e,onRemovePilot:a}))})))},Je=a(168),Xe=Object(x.a)((function(e){return{root:{width:"100%",maxHeight:"100%",overflow:"auto"},content:{overflowY:"auto"},header:{padding:0,position:"sticky",top:0,background:e.palette.background.paper}}})),De=function(){var e=Object(s.useContext)(D).squad,t=Xe();return u.a.createElement(re.a,{variant:"outlined",className:t.root},u.a.createElement(le.a,{className:t.header,title:u.a.createElement(He,{squadPoints:e.map((function(e){return e.cost||0})).reduce((function(e,t){return e+t}),0)})}),u.a.createElement(ce.a,{className:t.content},0===e.length&&u.a.createElement(Je.a,{style:{margin:8},severity:"info"},"No squad pilots selected"),u.a.createElement(Ge,{squad:e})))},He=function(e){var t=e.squadPoints,a=Object(s.useState)("Squad Name"),n=Object(v.a)(a,2),i=n[0],r=n[1],l=Object(s.useState)(!1),c=Object(v.a)(l,2),o=c[0],m=c[1],d=Object(s.useContext)(D).faction;return u.a.createElement("div",{style:{padding:16}},u.a.createElement("div",{style:{display:"flex",alignItems:"center"}},u.a.createElement(Z,{icon:d.icon,xws:d.xws,small:!0}),o?u.a.createElement(Te,{text:i,onClose:function(e){r(e),m(!1)},onUpdate:function(e){r(e),m(!1)}}):u.a.createElement(V,null,u.a.createElement(T.a,{variant:"h6"},null===i||void 0===i?void 0:i.toUpperCase()),u.a.createElement(S.a,{onClick:function(){return m(!0)}},u.a.createElement(Re.a,null)))),u.a.createElement(T.a,{variant:"body1",component:"span",color:"primary"},u.a.createElement("span",{style:{fontWeight:700,color:t>=200?"red":void 0}},t,"/",200)))},Ve=u.a.forwardRef((function(e,t){return u.a.createElement(Q.a,Object.assign({direction:"down",ref:t},e))})),Ye=Object(ie.a)((function(e){return{title:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,3)}}})),Ze=function(e){var t=e.ship,a=e.open,n=e.closeShipList,i=Ye(),r=xe(),l=Object(s.useContext)(D),c=l.addSquadPilot,o=l.closePilotsList,m=t?function(e){return function(t){c(t,e),n()}}({xws:t.xws,dial:t.dial}):void 0;return u.a.createElement(ee.a,{open:a,onClose:o,TransitionComponent:Ve,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md",fullWidth:!0,fullScreen:r},u.a.createElement(te.a,{disableTypography:!0,className:i.title},u.a.createElement(T.a,{style:{fontWeight:700,textTransform:"uppercase",marginRight:8}},null===t||void 0===t?void 0:t.name),u.a.createElement(oe,{type:"ship",icon:(null===t||void 0===t?void 0:t.xws)||"",size:"lg"})),u.a.createElement(ae.a,{dividers:!0},u.a.createElement(C.a,{container:!0,spacing:2,direction:"column"},null===t||void 0===t?void 0:t.pilots.map((function(e,t){return u.a.createElement(C.a,{item:!0,xs:12,key:t},u.a.createElement(Ke,{pilot:e,onAddPilot:m}))})))),u.a.createElement(ne.a,null,u.a.createElement(M.a,{onClick:o},"BACK"),u.a.createElement(M.a,{onClick:function(){o(),n()},variant:"text"},"CLOSE")))},$e=function(){var e=Object(s.useContext)(D),t=e.faction,a=e.ship,n=e.resetSquad,i=e.upgrade,r=Object(f.h)(),l=Object(f.g)(),c=Object(N.a)(),o=Object(s.useState)(!1),m=Object(v.a)(o,2),d=m[0],p=m[1];return t||"/faction-select"===r.pathname?t?u.a.createElement(z,null,u.a.createElement(Se,{open:d,onClose:function(){return p(!1)}}),u.a.createElement(Ze,{open:!!a,ship:a,closeShipList:function(){return p(!1)}}),i&&u.a.createElement(ze,{open:!!i,upgrade:i}),u.a.createElement(C.a,{container:!0,direction:"column",alignItems:"flex-start",wrap:"nowrap",style:{height:"100%"}},u.a.createElement(C.a,{item:!0},u.a.createElement("div",{style:{display:"flex",marginBottom:c.spacing(.5)}},u.a.createElement(M.a,{onClick:function(){n(),l.push("/faction-select")}},"Factions"),u.a.createElement(M.a,{onClick:function(){return p(!0)}},"Ships"))),u.a.createElement(De,null))):void 0:u.a.createElement(f.a,{to:"/faction-select"})};a(118);var _e=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,null),u.a.createElement(H,null,u.a.createElement(O,null,u.a.createElement(f.d,null,u.a.createElement(f.b,{path:"/faction-select"},u.a.createElement($,null)),u.a.createElement(f.b,{path:"/squad-build"},u.a.createElement($e,null)),u.a.createElement(f.b,{path:"/"},u.a.createElement(f.a,{to:"/faction-select"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(p.a,{basename:"/Xwing-Squad-Builder"},u.a.createElement(_e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a.p+"static/media/SWZ01_logo.19be28cc.png"},86:function(e,t,a){e.exports=a(119)},91:function(e,t,a){},97:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.c7e70bc4.chunk.js.map