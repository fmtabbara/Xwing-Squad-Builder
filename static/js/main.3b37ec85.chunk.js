(this["webpackJsonpx-wing-miniatures"]=this["webpackJsonpx-wing-miniatures"]||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n,i,r,c,l,o=a(0),s=a.n(o),u=a(10),m=a.n(u),d=a(36),p=(a(90),a(9)),f=a(161),E=a(11),v=a(77),h=a(147),g={palette:{type:"light"},typography:{fontFamily:"'Kanit', consolas"}},b={palette:{type:"dark"},typography:{fontFamily:"'Kanit', consolas"}},y=Object(o.createContext)({}),j=function(e){var t=e.children,a=Object(o.useCallback)((function(e){return Object(v.a)(e)}),[]),n=Object(o.useState)(a(b)),i=Object(E.a)(n,2),r=i[0],c=i[1];return s.a.createElement(y.Provider,{value:{changeTheme:function(){"dark"===r.palette.type?c(a(g)):c(a(b))},currentTheme:r.palette.type}},s.a.createElement(h.a,{theme:r},t))},O=a(148),x=a(120),S=a(149),w=a(150),C=a(71),k=a.n(C),R=a(72),A=a.n(R),L=a(70),W=a.n(L),P=a(41),T=a(56),q={width:125},N={width:"100%"},F=Object(O.a)({textStyle:{textAlign:"right",marginTop:-10,textTransform:"uppercase",fontSize:9}}),I=function(e){var t=e.currentTheme,a=F(),n=Object(T.a)();return s.a.createElement("div",{style:q},s.a.createElement("img",{src:W.a,alt:"main-logo",style:N}),s.a.createElement(P.a,{className:a.textStyle,style:{color:"light"===t?n.palette.grey[900]:"white"}},"Second Edition"))},z=Object(O.a)((function(e){return{root:{height:"100vh",maxHeight:"100vh",overflow:"hidden",display:"grid",gridTemplateAreas:'\n      "nav"\n      "content"\n    ',gridTemplateRows:"".concat(75,"px auto")},nav:{gridArea:"nav"},content:{gridArea:"content",height:"calc(100vh - ".concat(75,"px)"),overflow:"hidden",padding:e.spacing(2)}}})),B=function(e){var t=e.children,a=Object(o.useContext)(y),n=a.changeTheme,i=a.currentTheme,r=z();return s.a.createElement(x.a,{square:!0},s.a.createElement("div",{className:r.root},s.a.createElement("div",{className:r.nav},s.a.createElement(S.a,{container:!0,justify:"space-between",alignItems:"center",style:{padding:16}},s.a.createElement(S.a,{item:!0},s.a.createElement(I,{currentTheme:i})),s.a.createElement(S.a,{item:!0},s.a.createElement(w.a,{onClick:n},"dark"===i?s.a.createElement(k.a,null):s.a.createElement(A.a,null))))),s.a.createElement("div",{className:r.content},t)))},U=a(151),M=function(e){return e.json()},X=function(e,t){var a=Object(o.useState)(),n=Object(E.a)(a,2),i=n[0],r=n[1],c=Object(o.useState)(!1),l=Object(E.a)(c,2),s=l[0],u=(l[1],Object(o.useState)()),m=Object(E.a)(u,2),d=m[0];m[1];return Object(o.useEffect)((function(){fetch(e,{headers:{Accept:"application/json"}}).then(M).then((function(e){r(e)}))}),[e]),{data:i,isLoading:s,error:d}},G=a(32),J=a(78);!function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(n||(n={})),function(e){e.White="White",e.Red="Red"}(i||(i={})),function(e){e.Focus="Focus",e.Reinforce="Reinforce",e.Lock="Lock",e["Barrel Roll"]="Barrel Roll",e.Evade="Evade",e.Cloak="Cloak",e.Coordinate="Coordinate",e.Calculate="Calculate",e.Jam="Jam",e.Reload="Reload",e.Slam="Slam",e["Rotate Arc"]="Rotate Arc"}(r||(r={})),function(e){e.rebelalliance="rebelalliance",e.galacticempire="galacticempire",e.scumandvillainy="scumandvillainy",e.resistance="resistance",e.firstorder="firstorder",e.galacticrepublic="galacticrepublic",e.separatistalliance="separatistalliance"}(c||(c={})),function(e){e["Rebel Alliance"]="Rebel Alliance",e["Galactic Empire"]="Galactic Empire",e["Scum and Villainy"]="Scum and Villainy",e.Resistance="Resistance",e["First Order"]="First Order",e["Galactic Republic"]="Galactic Republic",e["Separatist Alliance"]="Separatist Alliance"}(l||(l={}));var K=Object(o.createContext)({}),H=function(e){var t=e.children,a=Object(o.useState)(),n=Object(E.a)(a,2),i=n[0],r=n[1],c=Object(o.useState)(),l=Object(E.a)(c,2),u=l[0],m=l[1],d=Object(o.useState)([]),p=Object(E.a)(d,2),f=p[0],v=p[1],h=X("manifest.json"),g=h.data,b=h.isLoading,y=function(){return m(void 0)};return s.a.createElement(K.Provider,{value:{faction:i,ship:u,squad:f,manifestUrls:g,manifestUrlsLoading:b,setFaction:r,showPilotsList:function(e){return m(e)},closePilotsList:y,addSquadPilot:function(e,t){v((function(a){return[].concat(Object(J.a)(a),[Object(G.a)(Object(G.a)({},e),{},{shipXWS:t})])})),y()},removeSquadPilot:function(e){return v((function(t){return t.filter((function(t){return t.name!==e}))}))},resetSquad:function(){return v([])}}},t)},V=function(e){var t=e.children;return s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},t)},D=[c.scumandvillainy,c.galacticempire,c.galacticrepublic],Y=function(e){var t=e.icon,a=e.xws,n=e.small,i=D.includes(a);return s.a.createElement("img",{src:t,alt:"faction-icon",style:{width:n?25:35,background:i?"black":"#ddd",marginRight:8,padding:4,borderRadius:30}})},Z=function(){var e=X("data/factions/factions.json"),t=e.data,a=void 0===t?[]:t,n=e.isLoading,i=Object(p.g)(),r=Object(p.h)(),c=Object(o.useContext)(K).setFaction,l=function(e){c(e),i.push("".concat(r.search,"/squad-build"))};return s.a.createElement(B,null,s.a.createElement(S.a,{container:!0,direction:"column",alignItems:"center",wrap:"nowrap",spacing:2,style:{height:"100%",overflow:"auto"}},s.a.createElement(S.a,{item:!0},s.a.createElement(P.a,{variant:"h4",style:{textTransform:"uppercase",margin:36}},"Faction Select")),!n&&a.map((function(e,t){return s.a.createElement(S.a,{item:!0,key:t},s.a.createElement($,{faction:e,onSelect:l}))}))))},$=function(e){var t=e.faction,a=e.onSelect;return s.a.createElement(U.a,{size:"small",variant:"text",startIcon:s.a.createElement(Y,{icon:t.icon,xws:t.xws}),onClick:function(){return a(t)},style:{padding:16}},s.a.createElement(P.a,{variant:"h6",style:{fontWeight:700}},t.name))},_=a(156),Q=a(162),ee=a(157),te=a(158),ae=a(159),ne=a(121),ie=a(152),re=a(153),ce=a(154),le=(a(96),function(e){var t=e.type,a=e.icon,n=e.size,i=e.color,r=e.style,c=void 0===r?{}:r,l="md"===n?"3.5em":"lg"===n?"5em":"2em";return s.a.createElement("i",{style:Object(G.a)(Object(G.a)({},c),{},{fontSize:l,color:i}),className:"xwing-miniatures-".concat(t," xwing-miniatures-").concat(t,"-").concat(a.toLowerCase())})}),oe=a(73),se=a.n(oe),ue=function(e){return se()(e,/\[(.*?)\]/,(function(e){return s.a.createElement(le,{type:"font",icon:"token-".concat(e.toLowerCase())})}))},me=Object(O.a)((function(e){return{root:{"&:hover":{cursor:"pointer"}}}})),de=function(e){var t,a,n=e.ship,i=me(),r=Object(o.useContext)(K).showPilotsList;return s.a.createElement(ie.a,{variant:"outlined",className:i.root,onClick:function(){r(n)}},s.a.createElement(re.a,{title:n.name,titleTypographyProps:{variant:"h6",style:{fontWeight:700,textTransform:"uppercase"}}}),s.a.createElement(ce.a,null,s.a.createElement("div",null,s.a.createElement(le,{type:"ship",icon:n.xws,size:"lg"})),s.a.createElement("div",null,s.a.createElement(P.a,{variant:"subtitle1"},null===(t=n.pilots[0].shipAbility)||void 0===t?void 0:t.name),n.pilots[0].shipAbility&&s.a.createElement(P.a,{variant:"caption"},ue(null===(a=n.pilots[0].shipAbility)||void 0===a?void 0:a.text)))))},pe=a(155),fe=function(){return Object(pe.a)("(max-width:770px)")},Ee=s.a.forwardRef((function(e,t){return s.a.createElement(_.a,Object.assign({direction:"down",ref:t},e))})),ve=Object(ne.a)((function(e){return{title:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(3),fontWeight:900,textTransform:"uppercase"}}})),he=function(e){var t=e.open,a=e.onClose,n=ve(),i=fe(),r=Object(o.useState)([]),c=Object(E.a)(r,2),l=c[0],u=c[1],m=Object(o.useState)(!0),d=Object(E.a)(m,2),p=(d[0],d[1]),f=Object(o.useContext)(K),v=f.manifestUrls,h=f.faction,g=(null===v||void 0===v?void 0:v.pilots.find((function(e){return e.faction===(null===h||void 0===h?void 0:h.xws)})))||[];return Object(o.useEffect)((function(){var e=g.ships.map((function(e){return fetch(e,{headers:{Accept:"application/json"}})}));Promise.all(e).then((function(e){var t=e.map((function(e){return e.json().then((function(e){return e}))}));Promise.all(t).then((function(e){u(e),p(!1)}))}))}),[g]),s.a.createElement(Q.a,{open:t,onClose:a,TransitionComponent:Ee,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"lg",fullWidth:!0,fullScreen:i},s.a.createElement(ee.a,{className:n.title},"Select Ship"),s.a.createElement(te.a,{dividers:!0},s.a.createElement(S.a,{container:!0,spacing:2,direction:"column"},l.map((function(e){return s.a.createElement(S.a,{item:!0,xs:12},s.a.createElement(de,{ship:e}))})))),s.a.createElement(ae.a,null,s.a.createElement(U.a,{variant:"text",onClick:a},"CLOSE")))},ge=a(76),be=a.n(ge),ye=a(160),je=a(163),Oe=a(74),xe=a.n(Oe),Se=function(e){var t=e.text,a=e.onClose,n=e.onUpdate,i=Object(o.useState)(t),r=Object(E.a)(i,2),c=r[0],l=r[1];return s.a.createElement(ye.a,{onClickAway:function(){return a(t)}},s.a.createElement(je.a,{style:{background:"white"},fullWidth:!0,autoFocus:!0,value:c,onChange:function(e){var t=e.target;l(t.value)},onKeyDown:function(e){var i=e.key;"enter"===i.toLowerCase()&&n(c),"escape"===i.toLowerCase()&&a(t)},endAdornment:s.a.createElement(w.a,{color:"primary",onClick:function(){return n(c)}},s.a.createElement(xe.a,null))}))},we=a(50),Ce=a(3),ke=a(75),Re=a.n(ke),Ae=Object(O.a)((function(e){return{root:{"&:hover":{cursor:"pointer"}},headerStyle:{alignItems:"flex-start"},initiativeStyle:{color:"orange",fontWeight:900},costStyle:{fontWeight:900,marginLeft:e.spacing(1)}}})),Le=function(e){var t,a,n=e.pilot,i=e.onAddPilot,r=e.onRemovePilot,c=Ae();return s.a.createElement(ie.a,{variant:"outlined",onClick:function(){return null===i||void 0===i?void 0:i(n)},className:Object(Ce.a)(Object(we.a)({},c.root,i))},s.a.createElement(re.a,{title:s.a.createElement(s.a.Fragment,null,n.name,n.cost&&s.a.createElement(P.a,{color:"primary",variant:"body1",component:"span",className:c.costStyle},n.cost)),className:c.headerStyle,avatar:s.a.createElement(P.a,{variant:"h6",className:c.initiativeStyle},n.initiative),titleTypographyProps:{variant:"h6",style:{fontWeight:700,textTransform:"uppercase"}},subheader:n.caption,action:r&&s.a.createElement(w.a,{onClick:function(){return r(n.name)}},s.a.createElement(Re.a,null))}),s.a.createElement(ce.a,null,n.shipXWS&&s.a.createElement("div",null,s.a.createElement(le,{type:"ship",icon:n.shipXWS,size:"lg"})),s.a.createElement("div",null,s.a.createElement(P.a,{variant:"subtitle1"},null===(t=n.shipAbility)||void 0===t?void 0:t.name),s.a.createElement(P.a,{variant:"caption"},ue(n.shipAbility.text))),s.a.createElement("div",null,s.a.createElement(P.a,{variant:"caption"},ue(n.ability))),s.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",overflowX:"auto"}},null===(a=n.slots)||void 0===a?void 0:a.map((function(e){return s.a.createElement(le,{type:"font",icon:e})})))))},We=function(e){var t=e.squad,a=Object(o.useContext)(K).removeSquadPilot;return s.a.createElement(S.a,{container:!0,spacing:2},t.map((function(e){return s.a.createElement(S.a,{item:!0,sm:12},s.a.createElement(Le,{pilot:e,onRemovePilot:a}))})))},Pe=a(164),Te=Object(O.a)((function(e){return{root:{width:"100%",maxHeight:"100%",overflow:"auto"},content:{overflowY:"auto"},header:{padding:0,position:"sticky",top:0,background:e.palette.background.paper}}})),qe=function(){var e=Object(o.useContext)(K).squad,t=Te();return s.a.createElement(ie.a,{variant:"outlined",className:t.root},s.a.createElement(re.a,{className:t.header,title:s.a.createElement(Ne,{squadPoints:e.map((function(e){return e.cost||0})).reduce((function(e,t){return e+t}),0)})}),s.a.createElement(ce.a,{className:t.content},0===e.length&&s.a.createElement(Pe.a,{style:{margin:8},severity:"info"},"No squad pilots selected"),s.a.createElement(We,{squad:e})))},Ne=function(e){var t=e.squadPoints,a=Object(o.useState)("Squad Name"),n=Object(E.a)(a,2),i=n[0],r=n[1],c=Object(o.useState)(!1),l=Object(E.a)(c,2),u=l[0],m=l[1],d=Object(o.useContext)(K).faction;return s.a.createElement("div",{style:{padding:16}},s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},s.a.createElement(Y,{icon:d.icon,xws:d.xws}),u?s.a.createElement(Se,{text:i,onClose:function(e){r(e),m(!1)},onUpdate:function(e){r(e),m(!1)}}):s.a.createElement(V,null,s.a.createElement(P.a,{variant:"h4"},null===i||void 0===i?void 0:i.toUpperCase()),s.a.createElement(w.a,{onClick:function(){return m(!0)}},s.a.createElement(be.a,null)))),s.a.createElement(P.a,{variant:"body1",component:"span",color:"primary"},s.a.createElement("span",{style:{fontWeight:700,color:t>=200?"red":void 0}},t,"/",200)))},Fe=s.a.forwardRef((function(e,t){return s.a.createElement(_.a,Object.assign({direction:"down",ref:t},e))})),Ie=Object(ne.a)((function(e){return{title:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,3)}}})),ze=function(e){var t,a=e.ship,n=e.open,i=e.closeShipList,r=Ie(),c=fe(),l=Object(o.useContext)(K),u=l.addSquadPilot,m=l.closePilotsList,d=(t=null===a||void 0===a?void 0:a.xws,function(e){u(e,t),i()});return s.a.createElement(Q.a,{open:n,onClose:m,TransitionComponent:Fe,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md",fullWidth:!0,fullScreen:c},s.a.createElement(ee.a,{disableTypography:!0,className:r.title},s.a.createElement(P.a,{style:{fontWeight:700,textTransform:"uppercase",marginRight:8}},null===a||void 0===a?void 0:a.name),s.a.createElement(le,{type:"ship",icon:(null===a||void 0===a?void 0:a.xws)||"",size:"lg"})),s.a.createElement(te.a,{dividers:!0},s.a.createElement(S.a,{container:!0,spacing:2,direction:"column"},null===a||void 0===a?void 0:a.pilots.map((function(e){return s.a.createElement(S.a,{item:!0,xs:12},s.a.createElement(Le,{pilot:e,onAddPilot:d}))})))),s.a.createElement(ae.a,null,s.a.createElement(U.a,{onClick:m},"BACK"),s.a.createElement(U.a,{onClick:function(){m(),i()},variant:"text"},"CLOSE")))},Be=function(){var e=Object(o.useContext)(K),t=e.faction,a=e.ship,n=(e.closePilotsList,e.resetSquad),i=Object(p.h)(),r=Object(p.g)(),c=Object(T.a)(),l=Object(o.useState)(!1),u=Object(E.a)(l,2),m=u[0],d=u[1];return t||"/faction-select"===i.pathname?t?s.a.createElement(B,null,s.a.createElement(he,{open:m,onClose:function(){return d(!1)}}),s.a.createElement(ze,{open:!!a,ship:a,closeShipList:function(){return d(!1)}}),s.a.createElement(S.a,{container:!0,direction:"column",alignItems:"flex-start",wrap:"nowrap",style:{height:"100%"}},s.a.createElement(S.a,{item:!0},s.a.createElement("div",{style:{display:"flex",marginBottom:c.spacing(.5)}},s.a.createElement(U.a,{onClick:function(){n(),r.push("/faction-select")}},"Factions"),s.a.createElement(U.a,{onClick:function(){return d(!0)}},"Ships"))),s.a.createElement(qe,null))):void 0:s.a.createElement(p.a,{to:"/faction-select"})};a(117);var Ue=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,null),s.a.createElement(H,null,s.a.createElement(j,null,s.a.createElement(p.d,null,s.a.createElement(p.b,{path:"/faction-select"},s.a.createElement(Z,null)),s.a.createElement(p.b,{path:"/squad-build"},s.a.createElement(Be,null)),s.a.createElement(p.b,{path:"/"},s.a.createElement(p.a,{to:"/faction-select"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(d.a,{basename:"/Xwing-Squad-Builder"},s.a.createElement(Ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a.p+"static/media/SWZ01_logo.19be28cc.png"},85:function(e,t,a){e.exports=a(118)},90:function(e,t,a){},96:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.3b37ec85.chunk.js.map