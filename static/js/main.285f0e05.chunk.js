(this["webpackJsonpx-wing-miniatures"]=this["webpackJsonpx-wing-miniatures"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n,c,i,r,l,o=a(0),s=a.n(o),u=a(9),m=a.n(u),d=a(36),f=(a(94),a(10)),p=a(168),E=a(78),g=a(150),h=Object(E.a)({palette:{type:"light"},typography:{fontFamily:"'Kanit', consolas"}}),v=function(e){var t=e.children;return s.a.createElement(g.a,{theme:h},t)},b=a(152),y=a(73),j=a.n(y),O=a(26),x=a(151),S={width:125},w={width:"100%"},C=Object(x.a)((function(e){return{textStyle:{color:e.palette.grey[900],textAlign:"right",marginTop:-10,textTransform:"uppercase",fontSize:9}}})),k=function(){var e=C();return s.a.createElement("div",{style:S},s.a.createElement("img",{src:j.a,alt:"main-logo",style:w}),s.a.createElement(O.a,{className:e.textStyle},"Second Edition"))},R=function(e){var t=e.children;return s.a.createElement(b.a,{container:!0,direction:"column"},s.a.createElement(b.a,{item:!0,style:{height:75,margin:16,marginBottom:0}},s.a.createElement(k,null)),s.a.createElement(b.a,{item:!0,style:{padding:8}},t))},L=a(153),P=a(12),W=function(e){return e.json()},q=function(e,t){var a=Object(o.useState)(),n=Object(P.a)(a,2),c=n[0],i=n[1],r=Object(o.useState)(!1),l=Object(P.a)(r,2),s=l[0],u=(l[1],Object(o.useState)()),m=Object(P.a)(u,2),d=m[0];m[1];return Object(o.useEffect)((function(){fetch(e,{headers:{Accept:"application/json"}}).then(W).then((function(e){i(e)}))}),[e]),{data:c,isLoading:s,error:d}},A=a(31),N=a(79);!function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(n||(n={})),function(e){e.White="White",e.Red="Red"}(c||(c={})),function(e){e.Focus="Focus",e.Reinforce="Reinforce",e.Lock="Lock",e["Barrel Roll"]="Barrel Roll",e.Evade="Evade",e.Cloak="Cloak",e.Coordinate="Coordinate",e.Calculate="Calculate",e.Jam="Jam",e.Reload="Reload",e.Slam="Slam",e["Rotate Arc"]="Rotate Arc"}(i||(i={})),function(e){e.rebelalliance="rebelalliance",e.galacticempire="galacticempire",e.scumandvillainy="scumandvillainy",e.resistance="resistance",e.firstorder="firstorder",e.galacticrepublic="galacticrepublic",e.separatistalliance="separatistalliance"}(r||(r={})),function(e){e["Rebel Alliance"]="Rebel Alliance",e["Galactic Empire"]="Galactic Empire",e["Scum and Villainy"]="Scum and Villainy",e.Resistance="Resistance",e["First Order"]="First Order",e["Galactic Republic"]="Galactic Republic",e["Separatist Alliance"]="Separatist Alliance"}(l||(l={}));var F=Object(o.createContext)({}),z=function(e){var t=e.children,a=Object(o.useState)(),n=Object(P.a)(a,2),c=n[0],i=n[1],r=Object(o.useState)(),l=Object(P.a)(r,2),u=l[0],m=l[1],d=Object(o.useState)([]),f=Object(P.a)(d,2),p=f[0],E=f[1],g=q("manifest.json"),h=g.data,v=g.isLoading,b=function(){return m(void 0)};return s.a.createElement(F.Provider,{value:{faction:c,ship:u,squad:p,manifestUrls:h,manifestUrlsLoading:v,setFaction:i,showPilotsList:function(e){return m(e)},closePilotsList:b,addSquadPilot:function(e,t){E((function(a){return[].concat(Object(N.a)(a),[Object(A.a)(Object(A.a)({},e),{},{shipXWS:t})])})),b()},removeSquadPilot:function(e){return E((function(t){return t.filter((function(t){return t.name!==e}))}))}}},t)},I=function(e){var t=e.children;return s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},t)},B=[r.scumandvillainy,r.galacticempire,r.galacticrepublic],T=function(e){var t=e.icon,a=e.xws,n=e.small,c=B.includes(a);return s.a.createElement("img",{src:t,alt:"faction-icon",style:{width:n?25:35,background:c?"black":"#ddd",marginRight:8,padding:4,borderRadius:30}})},U=function(){var e=q("data/factions/factions.json"),t=e.data,a=void 0===t?[]:t,n=e.isLoading,c=Object(f.g)(),i=Object(f.h)(),r=Object(o.useContext)(F).setFaction,l=function(e){r(e),c.push("".concat(i.search,"/squad-build"))};return s.a.createElement(R,null,s.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:2},n&&s.a.createElement("div",null,"Loading.."),a.map((function(e,t){return s.a.createElement(b.a,{item:!0,key:t},s.a.createElement(M,{faction:e,onSelect:l}))}))))},M=function(e){var t=e.faction,a=e.onSelect;return s.a.createElement(L.a,{size:"small",variant:"text",startIcon:s.a.createElement(T,{icon:t.icon,xws:t.xws}),onClick:function(){return a(t)},style:{padding:16}},s.a.createElement(O.a,{variant:"h6",style:{fontWeight:700}},t.name))},X=a(154),G=a(172),J=a(155),H=a(156),K=(a(99),function(e){var t=e.type,a=e.icon,n=e.size,c=e.color,i=e.style,r=void 0===i?{}:i,l="md"===n?"3.5em":"lg"===n?"5em":"2em";return s.a.createElement("i",{style:Object(A.a)(Object(A.a)({},r),{},{fontSize:l,color:c}),className:"xwing-miniatures-".concat(t," xwing-miniatures-").concat(t,"-").concat(a.toLowerCase())})}),V=function(e){var t=e.faction,a=e.onShowList,n=Object(o.useState)([]),c=Object(P.a)(n,2),i=c[0],r=c[1],l=Object(o.useState)(!0),u=Object(P.a)(l,2),m=u[0],d=u[1],f=Object(o.useContext)(F),p=f.manifestUrls,E=f.showPilotsList,g=p.pilots.find((function(e){return e.faction===t}));return Object(o.useEffect)((function(){var e=g.ships.map((function(e){return fetch(e,{headers:{Accept:"application/json"}})}));Promise.all(e).then((function(e){var t=e.map((function(e){return e.json().then((function(e){return e}))}));Promise.all(t).then((function(e){r(e),d(!1)}))}))}),[g]),m?s.a.createElement("div",null,"Loading"):i.length>0?s.a.createElement(X.a,{style:{maxHeight:700,overflowX:"hidden",border:"1px solid #eee"},dense:!0},i.map((function(e){return s.a.createElement(G.a,{key:e.name,button:!0,onClick:function(){E(e),null===a||void 0===a||a()}},s.a.createElement(J.a,{style:{marginRight:8}},s.a.createElement(K,{type:"ship",icon:e.xws,size:"lg",color:"black"})),s.a.createElement(H.a,{style:{color:"black"}},e.name.toUpperCase()))}))):s.a.createElement("div",null)},D=a(159),Y=a(160),Z=a(161),$=a(158),_=a(77),Q=a.n(_),ee=a(157),te=a(169),ae=a(74),ne=a.n(ae),ce=function(e){var t=e.text,a=e.onClose,n=e.onUpdate,c=Object(o.useState)(t),i=Object(P.a)(c,2),r=i[0],l=i[1];return s.a.createElement(ee.a,{onClickAway:function(){return a(t)}},s.a.createElement(te.a,{style:{background:"white"},fullWidth:!0,autoFocus:!0,value:r,onChange:function(e){var t=e.target;l(t.value)},onKeyDown:function(e){var c=e.key;"enter"===c.toLowerCase()&&n(r),"escape"===c.toLowerCase()&&a(t)},endAdornment:s.a.createElement($.a,{color:"primary",onClick:function(){return n(r)}},s.a.createElement(ne.a,null))}))},ie=a(50),re=a(75),le=a.n(re),oe=a(3),se=a(76),ue=a.n(se),me=Object(x.a)((function(e){return{root:{"&:hover":{cursor:"pointer",background:e.palette.grey[100]}},headerStyle:{alignItems:"flex-start"},initiativeStyle:{color:"orange",fontWeight:900},costStyle:{fontWeight:900,marginLeft:e.spacing(1)}}})),de=function(e){var t,a,n=e.pilot,c=e.onAddPilot,i=e.onRemovePilot,r=me();return s.a.createElement(D.a,{variant:"outlined",onClick:function(){return null===c||void 0===c?void 0:c(n)},className:Object(oe.a)(Object(ie.a)({},r.root,c))},s.a.createElement(Y.a,{title:s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n.name,n.cost&&s.a.createElement(O.a,{color:"primary",variant:"body1",className:r.costStyle},"(".concat(n.cost,")"))),className:r.headerStyle,avatar:s.a.createElement(O.a,{variant:"h6",className:r.initiativeStyle},n.initiative),titleTypographyProps:{variant:"h6",style:{fontWeight:700,textTransform:"uppercase"}},subheader:n.caption,action:i&&s.a.createElement($.a,{onClick:function(){return i(n.name)}},s.a.createElement(ue.a,null))}),s.a.createElement(Z.a,null,n.shipXWS&&s.a.createElement("div",null,s.a.createElement(K,{type:"ship",icon:n.shipXWS,size:"lg"})),s.a.createElement(O.a,{variant:"subtitle1"},(a=n.ability,le()(a,/\[(.*?)\]/,(function(e){return s.a.createElement(K,{type:"font",icon:"token-".concat(e.toLowerCase())})})))),s.a.createElement("div",null,null===(t=n.slots)||void 0===t?void 0:t.map((function(e){return s.a.createElement(K,{type:"font",icon:e,size:"md"})})))))},fe=function(e){var t=e.squad,a=Object(o.useContext)(F).removeSquadPilot;return s.a.createElement(b.a,{container:!0,spacing:2},t.map((function(e){return s.a.createElement(b.a,{item:!0,sm:12},s.a.createElement(de,{pilot:e,onRemovePilot:a}))})))},pe=a(170),Ee=Object(x.a)((function(e){return{root:{maxHeight:700,overflowY:"auto"},header:{padding:0,background:e.palette.grey[200]}}})),ge=function(){var e=Object(o.useContext)(F).squad,t=Ee();return s.a.createElement(D.a,{variant:"outlined"},s.a.createElement(Y.a,{className:t.header,title:s.a.createElement(he,{squadPoints:e.map((function(e){return e.cost||0})).reduce((function(e,t){return e+t}),0)})}),s.a.createElement(Z.a,{className:t.root},0===e.length&&s.a.createElement(pe.a,{style:{margin:8},severity:"info"},"No squad pilots selected"),s.a.createElement(fe,{squad:e})))},he=function(e){var t=e.squadPoints,a=Object(o.useState)("Squad Name"),n=Object(P.a)(a,2),c=n[0],i=n[1],r=Object(o.useState)(!1),l=Object(P.a)(r,2),u=l[0],m=l[1],d=Object(o.useContext)(F).faction;return s.a.createElement("div",{style:{padding:16}},s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},s.a.createElement(T,{icon:d.icon,xws:d.xws}),u?s.a.createElement(ce,{text:c,onClose:function(e){i(e),m(!1)},onUpdate:function(e){i(e),m(!1)}}):s.a.createElement(I,null,s.a.createElement(O.a,{variant:"h4"},null===c||void 0===c?void 0:c.toUpperCase()),s.a.createElement($.a,{onClick:function(){return m(!0)}},s.a.createElement(Q.a,null)))),s.a.createElement(O.a,{variant:"caption",color:"primary"},s.a.createElement("span",{style:{fontWeight:700,color:t>=200?"red":void 0}},t,"/",200)))},ve=a(163),be=a(165),ye=a(164),je=a(162),Oe=a(166),xe=a(125),Se=s.a.forwardRef((function(e,t){return s.a.createElement(je.a,Object.assign({direction:"down",ref:t},e))})),we=Object(xe.a)((function(e){return{title:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,3)},content:{background:e.palette.grey[200]}}})),Ce=function(e){var t,a=e.ship,n=e.open,c=e.onClose,i=we(),r=Object(o.useContext)(F).addSquadPilot,l=(t=null===a||void 0===a?void 0:a.xws,function(e){return r(e,t)});return s.a.createElement(ve.a,{open:n,onClose:c,TransitionComponent:Se,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md",fullWidth:!0},s.a.createElement(ye.a,{disableTypography:!0,className:i.title},s.a.createElement(O.a,{style:{fontWeight:700,textTransform:"uppercase",marginRight:8}},null===a||void 0===a?void 0:a.name),s.a.createElement(K,{type:"ship",icon:(null===a||void 0===a?void 0:a.xws)||"",size:"lg",color:"black"})),s.a.createElement(be.a,{dividers:!0,className:i.content},s.a.createElement(b.a,{container:!0,spacing:2,direction:"column"},null===a||void 0===a?void 0:a.pilots.map((function(e){return s.a.createElement(b.a,{item:!0,xs:12},s.a.createElement(de,{pilot:e,onAddPilot:l}))})))),s.a.createElement(Oe.a,null,s.a.createElement(L.a,{onClick:c,variant:"text"},"CLOSE")))},ke=a(171),Re=a(58),Le=function(e){var t=e.open,a=e.children,n=e.onClose,c=e.onOpen,i=Object(Re.a)();return s.a.createElement(ke.a,{ModalProps:{keepMounted:!0},onOpen:c,anchor:"left",open:t,onClose:n},s.a.createElement("div",{style:{width:300}},s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",background:i.palette.grey[200],borderBottom:"1px solid ".concat(i.palette.grey[300])}},s.a.createElement(L.a,{onClick:n},"Close")),a))},Pe=a(167),We=function(){var e=Object(o.useContext)(F),t=e.faction,a=e.ship,n=e.closePilotsList,c=Object(f.h)(),i=Object(Pe.a)("(max-width:600px)"),r=Object(o.useState)(!1),l=Object(P.a)(r,2),u=l[0],m=l[1],d=function(){return m(!1)};return t||"/faction-select"===c.pathname?t?s.a.createElement(R,null,s.a.createElement(Ce,{open:!!a,ship:a,onAdd:function(){},onClose:n}),s.a.createElement(b.a,{container:!0,wrap:"nowrap",spacing:2},i?s.a.createElement(Le,{open:u,onClose:d,onOpen:function(){return m(!0)}},s.a.createElement(V,{faction:t.xws,onShowList:d})):s.a.createElement(b.a,{item:!0,style:{width:275,minWidth:275}},s.a.createElement(V,{faction:t.xws})),s.a.createElement(b.a,{item:!0,style:{width:"100%"}},s.a.createElement(s.a.Fragment,null,i&&s.a.createElement(L.a,{onClick:function(){return m(!0)}},"Ships"),s.a.createElement(ge,null))))):void 0:s.a.createElement(f.a,{to:"/faction-select"})};a(121);var qe=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,null),s.a.createElement(z,null,s.a.createElement(v,null,s.a.createElement(f.d,null,s.a.createElement(f.b,{path:"/faction-select"},s.a.createElement(U,null)),s.a.createElement(f.b,{path:"/squad-build"},s.a.createElement(We,null)),s.a.createElement(f.b,{path:"/"},s.a.createElement(f.a,{to:"/faction-select"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(d.a,{basename:"/Xwing-Squad-Builder"},s.a.createElement(qe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports=a.p+"static/media/SWZ01_logo.19be28cc.png"},89:function(e,t,a){e.exports=a(122)},94:function(e,t,a){},99:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.285f0e05.chunk.js.map